<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@siteimprove/alfa-cascade](./alfa-cascade.md) &gt; [Encapsulation](./alfa-cascade.encapsulation.md)

## Encapsulation type

[https://drafts.csswg.org/css-cascade-5/\#cascade-context](https://drafts.csswg.org/css-cascade-5/#cascade-context)

**Signature:**

```typescript
export type Encapsulation = number;
```

## Remarks

This is called "context" in CSS, sub-called "encapsulation context". We already have a `Context` type for hover/focus/â€¦, so we call this `Encapsulation` instead.

While nesting document trees builds a tree, no element may own more than one shadow tree. Selectors matching an element can come from the style sheets of: \* its own document; \* its shadow tree (`:host` selectors); \* the shadow tree of its parent (`::slotted` selectors). In the case of a slotted element being itself an host, the nesting is pretty clear. (light / shadow of the parent slotting the element / shadow of the slotted element).

Therefore, for any given element, it is not needed to keep track of the full tree structure of the encapsulation contexts. The encapsulation depth is enough.

To account for important declarations being compared the other way around, we use a negative value for normal declarations, and a positive value for important. Thus, the higher encapsulations are the deep important ones, and the lower ones are the deep normal ones. Comparison stays simple number comparison.

